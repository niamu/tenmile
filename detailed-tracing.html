<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>...</title>
    <script src="lib/emitter.js"></script>
    <script src="lib/gameboy.js"></script>
  </head>
  <body>
    <canvas id="screen" width="160" height="144"></canvas>
  </body>
  <script>
    (async function() {
      let buffer = await (await fetch(
        "https://bonsaiden.github.io/Tuff.gb/roms/game.gb"
      )).arrayBuffer();

      window.debug = () => {};
      
      let canvas = document.getElementById("screen");
      let gameboy = GameBoyCore(canvas, new Uint8Array(buffer), {});

      gameboy.stopEmulator = 1; // required for some reason
      gameboy.start();

      setInterval(function() {
        gameboy.run();
      }, 8);
    })();
  </script>
</html>
