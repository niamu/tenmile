<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>format preview</title>
    <script src="lib/jszip.min.js"></script>
    <script src="lib/pako.min.js"></script>
    <script src="lib/UPNG.js"></script>
    <script src="lib/msgpack.js"></script>
    <script src="js/quotes.js"></script>
    <style>
    </style>
  </head>
  <body></body>
  <script defer>
    "use strict";

    window.gtag = function() {};

    window.onload = async function runAllTests() {
      let trace = new Trace();

      trace.name = "EXAMPLE";
      trace.initialState = [];
      trace.initialState[SAVESTATE_ROM] = new Uint8Array();
      trace.initialState[SAVESTATE_FRAMEBUFFER] = [];

      trace.actions = [];
      trace.romDependencies = new Set();

      let {blob, filename} = await compileQuote(trace);
      console.log(filename);
      
      let img = document.createElement("img");
      img.src = URL.createObjectURL(blob);
      document.body.appendChild(img);
    };
  </script>
</html>
